{"id":"Dyje","dependencies":[{"name":"/Users/nickolasstello/Desktop/HTML_CSS/Modern-JavaScript-Brad/weatherjs-nick/package.json","includedInParent":true,"mtime":1588185444000},{"name":"date-fns","loc":{"line":1,"column":23},"parent":"/Users/nickolasstello/Desktop/HTML_CSS/Modern-JavaScript-Brad/weatherjs-nick/scripts/fetch.js","resolved":"/Users/nickolasstello/Desktop/HTML_CSS/Modern-JavaScript-Brad/weatherjs-nick/node_modules/date-fns/esm/index.js"},{"name":"./const.js","loc":{"line":3,"column":83},"parent":"/Users/nickolasstello/Desktop/HTML_CSS/Modern-JavaScript-Brad/weatherjs-nick/scripts/fetch.js","resolved":"/Users/nickolasstello/Desktop/HTML_CSS/Modern-JavaScript-Brad/weatherjs-nick/scripts/const.js"},{"name":"./elements.js","loc":{"line":4,"column":56},"parent":"/Users/nickolasstello/Desktop/HTML_CSS/Modern-JavaScript-Brad/weatherjs-nick/scripts/fetch.js","resolved":"/Users/nickolasstello/Desktop/HTML_CSS/Modern-JavaScript-Brad/weatherjs-nick/scripts/elements.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.fetchLocalTime=n,exports.failedToFetch=i,exports.fetchData=o;var t=require(\"date-fns\"),e=require(\"./const.js\"),a=require(\"./elements.js\");async function n(a,n){let i=null;try{const c=await fetch(`${e.TIME_ZONE_BASE}${e.TIME_ZONE_KEY}&format=json&by=position&lat=${a}&lng=${n}`),r=await c.json();i=(0,t.format)(new Date(r.formatted),\"cccc hh:mm aaaa\")}catch(o){i=\"\",console.log(\"Failed to Fetch Local Time Data\")}return i}function i(t){console.log(t),a.cityLocation.textContent=\"Data Unavailable\",a.feelsLike.textContent=\"---\",a.humidity.textContent=\"---\",a.wind.textContent=\"---\"}async function o(t,a){let n=null,o=null;try{if(n=await fetch(`${e.OPEN_WEATHER_BASE}${t},${a}&appid=${e.OPEN_WEATHER_KEY}&units=metric`),o=await fetch(`${e.OPEN_WEATHER_BASE}${t},${a}&appid=${e.OPEN_WEATHER_KEY}&units=imperial`),n.status>404||o.status>404)throw new Error(\"Failed to Fetch Data\");return{metricData:await n.json(),imperialData:await o.json()}}catch(c){i(c)}}"},"sourceMaps":{"js":{"mappings":[{"source":"scripts/fetch.js","original":{"line":71,"column":1},"generated":{"line":1,"column":0}},{"source":"scripts/fetch.js","original":{"line":71,"column":1},"generated":{"line":1,"column":13}},{"source":"scripts/fetch.js","original":{"line":71,"column":1},"generated":{"line":1,"column":20}},{"source":"scripts/fetch.js","original":{"line":71,"column":1},"generated":{"line":1,"column":35}},{"source":"scripts/fetch.js","original":{"line":71,"column":1},"generated":{"line":1,"column":43}},{"source":"scripts/fetch.js","original":{"line":71,"column":1},"generated":{"line":1,"column":56}},{"source":"scripts/fetch.js","original":{"line":71,"column":1},"generated":{"line":1,"column":57}},{"source":"scripts/fetch.js","original":{"line":71,"column":1},"generated":{"line":1,"column":64}},{"source":"scripts/fetch.js","original":{"line":71,"column":1},"generated":{"line":1,"column":68}},{"source":"scripts/fetch.js","original":{"line":71,"column":1},"generated":{"line":1,"column":76}},{"source":"scripts/fetch.js","original":{"line":71,"column":1},"generated":{"line":1,"column":91}},{"source":"scripts/fetch.js","original":{"line":71,"column":1},"generated":{"line":1,"column":93}},{"source":"scripts/fetch.js","original":{"line":71,"column":1},"generated":{"line":1,"column":101}},{"source":"scripts/fetch.js","original":{"line":71,"column":1},"generated":{"line":1,"column":115}},{"source":"scripts/fetch.js","original":{"line":71,"column":1},"generated":{"line":1,"column":117}},{"source":"scripts/fetch.js","original":{"line":71,"column":1},"generated":{"line":1,"column":125}},{"source":"scripts/fetch.js","original":{"line":71,"column":1},"generated":{"line":1,"column":135}},{"source":"scripts/fetch.js","original":{"line":1,"column":0},"generated":{"line":1,"column":137}},{"source":"scripts/fetch.js","original":{"line":1,"column":0},"generated":{"line":1,"column":141}},{"source":"scripts/fetch.js","original":{"line":1,"column":0},"generated":{"line":1,"column":143}},{"source":"scripts/fetch.js","original":{"line":1,"column":0},"generated":{"line":1,"column":151}},{"source":"scripts/fetch.js","original":{"line":3,"column":0},"generated":{"line":1,"column":163}},{"source":"scripts/fetch.js","original":{"line":3,"column":0},"generated":{"line":1,"column":165}},{"source":"scripts/fetch.js","original":{"line":3,"column":0},"generated":{"line":1,"column":173}},{"source":"scripts/fetch.js","original":{"line":4,"column":0},"generated":{"line":1,"column":187}},{"source":"scripts/fetch.js","original":{"line":4,"column":0},"generated":{"line":1,"column":189}},{"source":"scripts/fetch.js","original":{"line":4,"column":0},"generated":{"line":1,"column":197}},{"source":"scripts/fetch.js","original":{"line":12,"column":7},"generated":{"line":1,"column":214}},{"source":"scripts/fetch.js","name":"fetchLocalTime","original":{"line":12,"column":22},"generated":{"line":1,"column":229}},{"source":"scripts/fetch.js","name":"lat","original":{"line":12,"column":37},"generated":{"line":1,"column":231}},{"source":"scripts/fetch.js","name":"lng","original":{"line":12,"column":42},"generated":{"line":1,"column":233}},{"source":"scripts/fetch.js","name":"localTime","original":{"line":13,"column":6},"generated":{"line":1,"column":236}},{"source":"scripts/fetch.js","name":"localTime","original":{"line":13,"column":6},"generated":{"line":1,"column":240}},{"source":"scripts/fetch.js","original":{"line":13,"column":18},"generated":{"line":1,"column":242}},{"source":"scripts/fetch.js","original":{"line":14,"column":6},"generated":{"line":1,"column":247}},{"source":"scripts/fetch.js","name":"tzResponse","original":{"line":15,"column":10},"generated":{"line":1,"column":251}},{"source":"scripts/fetch.js","name":"tzResponse","original":{"line":15,"column":10},"generated":{"line":1,"column":257}},{"source":"scripts/fetch.js","name":"fetch","original":{"line":15,"column":29},"generated":{"line":1,"column":265}},{"source":"scripts/fetch.js","name":"TIME_ZONE_BASE","original":{"line":16,"column":9},"generated":{"line":1,"column":274}},{"source":"scripts/fetch.js","original":{"line":16,"column":24},"generated":{"line":1,"column":276}},{"source":"scripts/fetch.js","name":"TIME_ZONE_KEY","original":{"line":16,"column":26},"generated":{"line":1,"column":293}},{"source":"scripts/fetch.js","original":{"line":16,"column":40},"generated":{"line":1,"column":295}},{"source":"scripts/fetch.js","name":"lat","original":{"line":16,"column":71},"generated":{"line":1,"column":340}},{"source":"scripts/fetch.js","name":"lng","original":{"line":16,"column":82},"generated":{"line":1,"column":349}},{"source":"scripts/fetch.js","name":"tzData","original":{"line":18,"column":10},"generated":{"line":1,"column":354}},{"source":"scripts/fetch.js","name":"tzResponse","original":{"line":18,"column":25},"generated":{"line":1,"column":362}},{"source":"scripts/fetch.js","name":"json","original":{"line":18,"column":36},"generated":{"line":1,"column":364}},{"source":"scripts/fetch.js","name":"localTime","original":{"line":19,"column":4},"generated":{"line":1,"column":371}},{"source":"scripts/fetch.js","original":{"line":19,"column":16},"generated":{"line":1,"column":374}},{"source":"scripts/fetch.js","original":{"line":19,"column":23},"generated":{"line":1,"column":376}},{"source":"scripts/fetch.js","original":{"line":19,"column":23},"generated":{"line":1,"column":378}},{"source":"scripts/fetch.js","original":{"line":19,"column":23},"generated":{"line":1,"column":386}},{"source":"scripts/fetch.js","name":"Date","original":{"line":19,"column":27},"generated":{"line":1,"column":390}},{"source":"scripts/fetch.js","name":"tzData","original":{"line":19,"column":32},"generated":{"line":1,"column":395}},{"source":"scripts/fetch.js","name":"formatted","original":{"line":19,"column":39},"generated":{"line":1,"column":397}},{"source":"scripts/fetch.js","original":{"line":19,"column":51},"generated":{"line":1,"column":408}},{"source":"scripts/fetch.js","original":{"line":20,"column":4},"generated":{"line":1,"column":427}},{"source":"scripts/fetch.js","name":"error","original":{"line":20,"column":11},"generated":{"line":1,"column":433}},{"source":"scripts/fetch.js","name":"localTime","original":{"line":21,"column":4},"generated":{"line":1,"column":436}},{"source":"scripts/fetch.js","original":{"line":21,"column":16},"generated":{"line":1,"column":438}},{"source":"scripts/fetch.js","name":"console","original":{"line":22,"column":4},"generated":{"line":1,"column":441}},{"source":"scripts/fetch.js","name":"log","original":{"line":22,"column":12},"generated":{"line":1,"column":449}},{"source":"scripts/fetch.js","original":{"line":22,"column":16},"generated":{"line":1,"column":453}},{"source":"scripts/fetch.js","name":"localTime","original":{"line":24,"column":9},"generated":{"line":1,"column":488}},{"source":"scripts/fetch.js","name":"localTime","original":{"line":24,"column":9},"generated":{"line":1,"column":495}},{"source":"scripts/fetch.js","original":{"line":31,"column":7},"generated":{"line":1,"column":497}},{"source":"scripts/fetch.js","name":"failedToFetch","original":{"line":31,"column":16},"generated":{"line":1,"column":506}},{"source":"scripts/fetch.js","name":"error","original":{"line":31,"column":30},"generated":{"line":1,"column":508}},{"source":"scripts/fetch.js","name":"console","original":{"line":32,"column":2},"generated":{"line":1,"column":511}},{"source":"scripts/fetch.js","name":"log","original":{"line":32,"column":10},"generated":{"line":1,"column":519}},{"source":"scripts/fetch.js","name":"error","original":{"line":32,"column":14},"generated":{"line":1,"column":523}},{"source":"scripts/fetch.js","name":"textContent","original":{"line":33,"column":15},"generated":{"line":1,"column":526}},{"source":"scripts/fetch.js","name":"textContent","original":{"line":33,"column":15},"generated":{"line":1,"column":528}},{"source":"scripts/fetch.js","name":"textContent","original":{"line":33,"column":15},"generated":{"line":1,"column":541}},{"source":"scripts/fetch.js","original":{"line":33,"column":29},"generated":{"line":1,"column":553}},{"source":"scripts/fetch.js","name":"textContent","original":{"line":34,"column":12},"generated":{"line":1,"column":572}},{"source":"scripts/fetch.js","name":"textContent","original":{"line":34,"column":12},"generated":{"line":1,"column":574}},{"source":"scripts/fetch.js","name":"textContent","original":{"line":34,"column":12},"generated":{"line":1,"column":584}},{"source":"scripts/fetch.js","original":{"line":34,"column":26},"generated":{"line":1,"column":596}},{"source":"scripts/fetch.js","name":"textContent","original":{"line":35,"column":11},"generated":{"line":1,"column":602}},{"source":"scripts/fetch.js","name":"textContent","original":{"line":35,"column":11},"generated":{"line":1,"column":604}},{"source":"scripts/fetch.js","name":"textContent","original":{"line":35,"column":11},"generated":{"line":1,"column":613}},{"source":"scripts/fetch.js","original":{"line":35,"column":25},"generated":{"line":1,"column":625}},{"source":"scripts/fetch.js","name":"textContent","original":{"line":36,"column":7},"generated":{"line":1,"column":631}},{"source":"scripts/fetch.js","name":"textContent","original":{"line":36,"column":7},"generated":{"line":1,"column":633}},{"source":"scripts/fetch.js","name":"textContent","original":{"line":36,"column":7},"generated":{"line":1,"column":638}},{"source":"scripts/fetch.js","original":{"line":36,"column":21},"generated":{"line":1,"column":650}},{"source":"scripts/fetch.js","original":{"line":45,"column":7},"generated":{"line":1,"column":656}},{"source":"scripts/fetch.js","name":"fetchData","original":{"line":45,"column":22},"generated":{"line":1,"column":671}},{"source":"scripts/fetch.js","name":"cityID","original":{"line":45,"column":32},"generated":{"line":1,"column":673}},{"source":"scripts/fetch.js","name":"countryID","original":{"line":45,"column":40},"generated":{"line":1,"column":675}},{"source":"scripts/fetch.js","name":"metricResponse","original":{"line":46,"column":6},"generated":{"line":1,"column":678}},{"source":"scripts/fetch.js","name":"metricResponse","original":{"line":46,"column":6},"generated":{"line":1,"column":682}},{"source":"scripts/fetch.js","original":{"line":46,"column":23},"generated":{"line":1,"column":684}},{"source":"scripts/fetch.js","name":"imperialResponse","original":{"line":47,"column":6},"generated":{"line":1,"column":689}},{"source":"scripts/fetch.js","original":{"line":47,"column":25},"generated":{"line":1,"column":691}},{"source":"scripts/fetch.js","original":{"line":49,"column":6},"generated":{"line":1,"column":696}},{"source":"scripts/fetch.js","name":"metricResponse","original":{"line":57,"column":8},"generated":{"line":1,"column":700}},{"source":"scripts/fetch.js","name":"metricResponse","original":{"line":50,"column":4},"generated":{"line":1,"column":703}},{"source":"scripts/fetch.js","name":"fetch","original":{"line":50,"column":27},"generated":{"line":1,"column":711}},{"source":"scripts/fetch.js","name":"OPEN_WEATHER_BASE","original":{"line":51,"column":9},"generated":{"line":1,"column":720}},{"source":"scripts/fetch.js","original":{"line":51,"column":27},"generated":{"line":1,"column":722}},{"source":"scripts/fetch.js","name":"cityID","original":{"line":51,"column":29},"generated":{"line":1,"column":742}},{"source":"scripts/fetch.js","name":"countryID","original":{"line":51,"column":39},"generated":{"line":1,"column":747}},{"source":"scripts/fetch.js","name":"OPEN_WEATHER_KEY","original":{"line":51,"column":58},"generated":{"line":1,"column":758}},{"source":"scripts/fetch.js","original":{"line":51,"column":75},"generated":{"line":1,"column":760}},{"source":"scripts/fetch.js","name":"imperialResponse","original":{"line":53,"column":4},"generated":{"line":1,"column":793}},{"source":"scripts/fetch.js","name":"fetch","original":{"line":53,"column":29},"generated":{"line":1,"column":801}},{"source":"scripts/fetch.js","name":"OPEN_WEATHER_BASE","original":{"line":54,"column":9},"generated":{"line":1,"column":810}},{"source":"scripts/fetch.js","original":{"line":54,"column":27},"generated":{"line":1,"column":812}},{"source":"scripts/fetch.js","name":"cityID","original":{"line":54,"column":29},"generated":{"line":1,"column":832}},{"source":"scripts/fetch.js","name":"countryID","original":{"line":54,"column":39},"generated":{"line":1,"column":837}},{"source":"scripts/fetch.js","name":"OPEN_WEATHER_KEY","original":{"line":54,"column":58},"generated":{"line":1,"column":848}},{"source":"scripts/fetch.js","original":{"line":54,"column":75},"generated":{"line":1,"column":850}},{"source":"scripts/fetch.js","name":"metricResponse","original":{"line":57,"column":8},"generated":{"line":1,"column":885}},{"source":"scripts/fetch.js","name":"status","original":{"line":57,"column":23},"generated":{"line":1,"column":887}},{"source":"scripts/fetch.js","original":{"line":57,"column":32},"generated":{"line":1,"column":894}},{"source":"scripts/fetch.js","name":"imperialResponse","original":{"line":57,"column":39},"generated":{"line":1,"column":899}},{"source":"scripts/fetch.js","name":"status","original":{"line":57,"column":56},"generated":{"line":1,"column":901}},{"source":"scripts/fetch.js","original":{"line":57,"column":65},"generated":{"line":1,"column":908}},{"source":"scripts/fetch.js","original":{"line":58,"column":12},"generated":{"line":1,"column":912}},{"source":"scripts/fetch.js","original":{"line":58,"column":12},"generated":{"line":1,"column":918}},{"source":"scripts/fetch.js","name":"Error","original":{"line":58,"column":16},"generated":{"line":1,"column":922}},{"source":"scripts/fetch.js","original":{"line":58,"column":22},"generated":{"line":1,"column":928}},{"source":"scripts/fetch.js","original":{"line":64,"column":11},"generated":{"line":1,"column":952}},{"source":"scripts/fetch.js","original":{"line":64,"column":11},"generated":{"line":1,"column":958}},{"source":"scripts/fetch.js","name":"metricData","original":{"line":65,"column":6},"generated":{"line":1,"column":959}},{"source":"scripts/fetch.js","name":"metricResponse","original":{"line":61,"column":29},"generated":{"line":1,"column":976}},{"source":"scripts/fetch.js","name":"json","original":{"line":61,"column":44},"generated":{"line":1,"column":978}},{"source":"scripts/fetch.js","name":"imperialData","original":{"line":66,"column":6},"generated":{"line":1,"column":985}},{"source":"scripts/fetch.js","name":"imperialResponse","original":{"line":62,"column":31},"generated":{"line":1,"column":1004}},{"source":"scripts/fetch.js","name":"json","original":{"line":62,"column":48},"generated":{"line":1,"column":1006}},{"source":"scripts/fetch.js","original":{"line":68,"column":4},"generated":{"line":1,"column":1014}},{"source":"scripts/fetch.js","name":"error","original":{"line":68,"column":11},"generated":{"line":1,"column":1020}},{"source":"scripts/fetch.js","name":"failedToFetch","original":{"line":69,"column":4},"generated":{"line":1,"column":1023}},{"source":"scripts/fetch.js","name":"error","original":{"line":69,"column":18},"generated":{"line":1,"column":1025}}],"sources":{"scripts/fetch.js":"import { format } from 'date-fns';\n// eslint-disable-next-line prettier/prettier\nimport { OPEN_WEATHER_KEY, OPEN_WEATHER_BASE, TIME_ZONE_KEY, TIME_ZONE_BASE } from './const.js';\nimport { cityLocation, feelsLike, humidity, wind } from './elements.js';\n\n/**\n * fetchLocalTime - Fetch local time based on latitude and longitude\n * @param {String} lat\n * @param {String} lng\n * @return {Object}\n */\nexport async function fetchLocalTime(lat, lng) {\n  let localTime = null;\n  try {\n    const tzResponse = await fetch(\n      `${TIME_ZONE_BASE}${TIME_ZONE_KEY}&format=json&by=position&lat=${lat}&lng=${lng}`\n    );\n    const tzData = await tzResponse.json();\n    localTime = format(new Date(tzData.formatted), 'cccc hh:mm aaaa');\n  } catch (error) {\n    localTime = '';\n    console.log('Failed to Fetch Local Time Data');\n  }\n  return localTime;\n}\n\n/**\n * failedToFetch - Catch if the API fetch fails\n * @param {String} error\n */\nexport function failedToFetch(error) {\n  console.log(error);\n  cityLocation.textContent = 'Data Unavailable';\n  feelsLike.textContent = '---';\n  humidity.textContent = '---';\n  wind.textContent = '---';\n}\n\n/**\n * fetchData - Fetch weather data based on the city\n * @param {String} cityID\n * @param {String} countryID optional\n * @return {Object} Metric and Imperial Data\n */\nexport async function fetchData(cityID, countryID) {\n  let metricResponse = null;\n  let imperialResponse = null;\n\n  try {\n    metricResponse = await fetch(\n      `${OPEN_WEATHER_BASE}${cityID},${countryID}&appid=${OPEN_WEATHER_KEY}&units=metric`\n    );\n    imperialResponse = await fetch(\n      `${OPEN_WEATHER_BASE}${cityID},${countryID}&appid=${OPEN_WEATHER_KEY}&units=imperial`\n    );\n\n    if (metricResponse.status > 404 || imperialResponse.status > 404) {\n      throw new Error('Failed to Fetch Data');\n    }\n\n    const metricData = await metricResponse.json();\n    const imperialData = await imperialResponse.json();\n\n    return {\n      metricData,\n      imperialData,\n    };\n  } catch (error) {\n    failedToFetch(error);\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"597f95598462a5e45d3ce10f585dc9ae","cacheData":{"env":{}}}